import{o as n,d as h,a as o,u as b,j as g,E as k,k as V,b as l,w as i,h as m,t as d,f as e,c as _,l as j,F as $}from"./app.a8813d1c.js";import{m as x}from"./matice.737db02d.js";import{_ as B}from"./index.db144155.js";import{_ as C}from"./Button.fec846ba.js";import{_ as y}from"./Label.2d2ef3db.js";import{_ as S}from"./Input.16f1d27c.js";import{_ as q}from"./Checkbox.040faab5.js";import{_ as N}from"./ActionMessage.7bc2f341.js";import{r as F}from"./ArrowPathIcon.7d86e584.js";function M(u,s){return n(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{d:"M1 8.25a1.25 1.25 0 112.5 0v7.5a1.25 1.25 0 11-2.5 0v-7.5zM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0114 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 01-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 01-1.341-.317l-2.734-1.366A3 3 0 006.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 012.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388z"})])}const z={class:"col-span-3 px-2 py-3 md:table-cell md:w-5/12 md:px-5 md:py-3"},A={class:"col-span-1 px-2 py-3 md:table-cell md:w-1/12 md:px-0 md:text-center"},E={class:"col-span-1 flex items-end justify-center px-2 py-3 md:table-cell md:w-1/12 md:px-0 md:text-center"},P={class:"hidden col-span-1 px-2 py-3 md:table-cell md:w-2/12 md:px-5 md:py-3 md:text-sm"},T={class:"col-span-1 px-2 py-3 flex items-end justify-center md:table-cell md:w-2/12 md:-text-sm"},K={__name:"JournalLine",props:{line:Object,message:String},setup(u){const s=u,t=b({id:s.line.id,active:!!s.line.active,reported:s.line.reported,quantity:String(s.line.quantity),product_id:s.line.product_id}),w=g().props.value.initialProducts,a=k({message:"",success:!1});function p(f){return w.filter(c=>c.id===f)[0]}function v(){t.post(route("missing_products_test"),{preserveScroll:!0,onSuccess:()=>a.success=!0})}return V(a,async()=>{a.success&&setTimeout(function(){a.message="",a.success=!1},3e3)}),(f,c)=>(n(),h($,null,[o("div",z,[l(y,{class:"md:hidden mb-2"},{default:i(()=>[m(d(e(x.trans)("auth.Name")),1)]),_:1}),m(" "+d(p(e(t).product_id).name),1)]),o("div",A,[l(y,{class:"md:hidden mb-2"},{default:i(()=>[m(d(e(x.trans)("app.Quantity")),1)]),_:1}),p(e(t).product_id).type_id===1?(n(),_(S,{key:0,type:"number",class:"w-16 md:w-12 md:text-sm md:p-0 rounded-sm border-0 outline outline-offset-4 outline-1 outline-gray-200",modelValue:e(t).quantity,"onUpdate:modelValue":c[0]||(c[0]=r=>e(t).quantity=r)},null,8,["modelValue"])):(n(),_(q,{key:1,type:"checkbox",checked:e(t).active,modelValue:e(t).active,"onUpdate:modelValue":c[1]||(c[1]=r=>e(t).active=r)},null,8,["checked","modelValue"]))]),o("div",E,[l(C,{type:"submit",class:"w-16 h-12 md:w-12 md:h-8 flex items-center justify-center",disabled:e(t).processing,onClick:j(v,["prevent"])},{default:i(()=>[l(e(F),{class:"w-6"})]),_:1},8,["disabled","onClick"])]),o("div",P,d(e(B)(s.line.updated_at).format("l")),1),o("div",T,[l(N,{class:"w-full h-full flex items-center justify-center",on:a.success},{default:i(()=>[l(e(M),{class:"w-5 text-green-700"})]),_:1},8,["on"])])],64))}};export{K as default};
