import{r as w,u as x,o as i,c as y,w as r,h as a,t as e,f as s,a as o,d as c,F as b,g as B,e as C,b as _,J as L,n as V}from"./app.a8813d1c.js";import{_ as M}from"./ActionMessage.7bc2f341.js";import{_ as S}from"./ActionSection.a4e42761.js";import{_ as g}from"./Button.fec846ba.js";import{_ as $}from"./DialogModal.dad9cc03.js";import{_ as F}from"./Input.16f1d27c.js";import{_ as N}from"./InputError.9e821b96.js";import{_ as z}from"./SecondaryButton.192acb98.js";import{m as l}from"./matice.737db02d.js";import"./SectionTitle.663b3591.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.4d4f2f09.js";const K={class:"max-w-xl text-sm text-gray-600"},T={key:0,class:"mt-5 space-y-6"},U={key:0,fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-8 h-8 text-gray-500"},j=o("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1),D=[j],E={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"w-8 h-8 text-gray-500"},H=o("path",{d:"M0 0h24v24H0z",stroke:"none"},null,-1),I=o("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"},null,-1),O=o("path",{d:"M11 5h2M12 17v.01"},null,-1),P=[H,I,O],A={class:"ml-3"},J={class:"text-sm text-gray-600"},q={class:"text-xs text-gray-500"},G={key:0,class:"text-green-500 font-semibold"},Q={key:1},R={class:"flex items-center mt-5"},W={class:"mt-4"},_s={__name:"LogoutOtherBrowserSessionsForm",props:{sessions:Array},setup(p){const d=w(!1),m=w(null),n=x({password:""}),v=()=>{d.value=!0,setTimeout(()=>m.value.focus(),250)},f=()=>{n.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>m.value.focus(),onFinish:()=>n.reset()})},u=()=>{d.value=!1,n.reset()};return(X,h)=>(i(),y(S,null,{title:r(()=>[a(e(s(l.trans)("profile.Browser_Sessions")),1)]),description:r(()=>[a(e(s(l.trans)("profile.Browser_session_description"))+". ",1)]),content:r(()=>[o("div",K,e(s(l.trans)("profile.Logout_other_browsers_description"))+". ",1),p.sessions.length>0?(i(),c("div",T,[(i(!0),c(b,null,B(p.sessions,(t,k)=>(i(),c("div",{key:k,class:"flex items-center"},[o("div",null,[t.agent.is_desktop?(i(),c("svg",U,D)):(i(),c("svg",E,P))]),o("div",A,[o("div",J,e(t.agent.platform?t.agent.platform:"Unknown")+" - "+e(t.agent.browser?t.agent.browser:"Unknown"),1),o("div",null,[o("div",q,[a(e(t.ip_address)+", ",1),t.is_current_device?(i(),c("span",G,"This device")):(i(),c("span",Q,"Last active "+e(t.last_active),1))])])])]))),128))])):C("",!0),o("div",R,[_(g,{onClick:v},{default:r(()=>[a(e(s(l.trans)("profile.Logout_other_sessions")),1)]),_:1}),_(M,{on:s(n).recentlySuccessful,class:"ml-3"},{default:r(()=>[a(e(s(l.trans)("profile.Done"))+". ",1)]),_:1},8,["on"])]),_($,{show:d.value,onClose:u},{title:r(()=>[a(e(s(l.trans)("profile.Logout_other_sessions")),1)]),content:r(()=>[a(e(s(l.trans)("profile.Password_confirm_logout_other_browsers"))+". ",1),o("div",W,[_(F,{ref_key:"passwordInput",ref:m,modelValue:s(n).password,"onUpdate:modelValue":h[0]||(h[0]=t=>s(n).password=t),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",onKeyup:L(f,["enter"])},null,8,["modelValue","onKeyup"]),_(N,{message:s(n).errors.password,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[_(z,{onClick:u},{default:r(()=>[a(e(s(l.trans)("btn.Cancel")),1)]),_:1}),_(g,{class:V(["ml-3",{"opacity-25":s(n).processing}]),disabled:s(n).processing,onClick:f},{default:r(()=>[a(e(s(l.trans)("btn.Logout_other_browser")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{_s as default};
